appId: com.toughra.ustadmobile
env:
  TESTRESULTSDIR: "${TESTRESULTSDIR}/002_001_admin_add_new_course_and_teacher"
  TESTNAME: "002_001_admin_add_new_course_and_teacher"
---
- clearState: com.toughra.ustadmobile
#---------Start test-controller-server ---------#
- runFlow:
    file: "../common/startserver.yaml"
    env:
      CONTROLSERVER: ${CONTROLSERVER}
      TESTSERIAL: ${TESTSERIAL}
      TESTNAME: ${TESTNAME}

#-------Launch App---------------#
- runFlow: "../common/clear_state_and_get_started.yaml"
- runFlow: "../common/select_site.yaml"
#-------Admin Login---------------#
- runFlow:
    file: "../common/user_login.yaml"
#---------Add Course------------------#
- runFlow:
    file: "../common/add_course.yaml"
    env:
      TESTCOURSENAME: "Test Course"
#---------Add a teacher inside course------------------#
- runFlow:
    file: "../common/add_new_teacher_inside_course.yaml"
    env:
      TESTCOURSENAME: "Test Course"
      TEACHERFIRSTNAME: "edna"
      TEACHERLASTNAME: "krabappel"
      GENDER: "Female"
      PASSWORD: "test"
#---------Launch App & Teacher Login------------------#
- runFlow: "../common/clear_state_and_get_started.yaml"
- runFlow: "../common/select_site.yaml"
- runFlow:
    file: "../common/user_login.yaml"
    env:
      USERNAME: "edna"
      PASSWORD: "test"
- tapOn: "courses"
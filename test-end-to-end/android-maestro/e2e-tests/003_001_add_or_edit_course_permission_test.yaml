appId: com.toughra.ustadmobile
---
- clearState: com.toughra.ustadmobile

- runFlow:
    file: "../common/startserver.yaml"
    env:
      CONTROLSERVER: ${CONTROLSERVER}
# test created by  ** Pooja **
#  this test tests that :
  # admin able to add a course and edit that course
  # teacher should be able to edit a course
  # student should not be able to edit a course

# 1) admin able to add a course and edit that course
- runFlow:
    file: "../common/course_with_members.yaml"
- tapOn: "Courses"
- tapOn:
    id: "com.toughra.ustadmobile:id/item_clazzlist_clazz_cl"
- tapOn: "Edit"
- tapOn: "Description (Optional)"
- inputText: "Test edit"
- tapOn: "SAVE"
# 2) teacher should be able to edit a course
- runFlow:
    file: "../common/member_login.yaml"
    env:
      PERSONNAME: "Anu"
- tapOn: "Courses"
- tapOn:
    id: "com.toughra.ustadmobile:id/item_clazzlist_clazz_cl"
- assertVisible: "Edit"
- tapOn: "Edit"
- tapOn: "SAVE"
# 3) student should not be able to edit a course
- runFlow:
    file: "../common/member_login.yaml"
    env:
      PERSONNAME: "Sruthy"
- tapOn: "Courses"
- tapOn:
    id: "com.toughra.ustadmobile:id/item_clazzlist_clazz_cl"
- assertNotVisible: "Edit"